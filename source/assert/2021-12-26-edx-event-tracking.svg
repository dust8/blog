<svg id="container" preserveAspectRatio="none meet" class="mm-ojkq93-1" xmlns="http://www.w3.org/2000/svg"><style>.mm-ojkq93-1 a { color: #0097e6; }
.mm-ojkq93-1 a:hover { color: #00a8ff; }
.mm-ojkq93-1-g &gt; path { fill: none; }
.mm-ojkq93-1-fo &gt; div { font: 300 16px/20px sans-serif; white-space: nowrap; }
.mm-ojkq93-1-fo code { padding: .2em .4em; font-size: calc(1em - 2px); color: #555; background-color: #f0f0f0; border-radius: 2px; }
.mm-ojkq93-1-fo del { text-decoration: line-through; }
.mm-ojkq93-1-fo em { font-style: italic; }
.mm-ojkq93-1-fo strong { font-weight: bolder; }
.mm-ojkq93-1-fo pre { margin: 0; }
.mm-ojkq93-1-fo pre[class*=language-] { padding: 0; }
.mm-ojkq93-1-g &gt; g { cursor: pointer; }

</style><g class="mm-ojkq93-1-g" transform="translate(-18.60031811911972,527.9454090650671) scale(0.6551967019291822)"><path d="M200,10C240,10,240,-300.5,280,-300.5" stroke="rgb(255, 127, 14)" stroke-width="2"></path><path d="M200,10C240,10,240,-125.375,280,-125.375" stroke="rgb(140, 86, 75)" stroke-width="2"></path><path d="M200,10C240,10,240,4,280,4" stroke="rgb(227, 119, 194)" stroke-width="2"></path><path d="M200,10C240,10,240,151.5,280,151.5" stroke="rgb(23, 190, 207)" stroke-width="2"></path><path d="M200,10C240,10,240,316.5,280,316.5" stroke="rgb(140, 86, 75)" stroke-width="2"></path><path d="M280,-300.5C320,-300.5,320,-323.5,360,-323.5" stroke="rgb(44, 160, 44)" stroke-width="1.5"></path><path d="M280,-300.5C320,-300.5,320,-298.5,360,-298.5" stroke="rgb(214, 39, 40)" stroke-width="1.5"></path><path d="M280,-300.5C320,-300.5,320,-273.5,360,-273.5" stroke="rgb(148, 103, 189)" stroke-width="1.5"></path><path d="M346,-125.375C386,-125.375,386,-212.25,426,-212.25" stroke="rgb(227, 119, 194)" stroke-width="1.5"></path><path d="M346,-125.375C386,-125.375,386,-118.5,426,-118.5" stroke="rgb(255, 127, 14)" stroke-width="1.5"></path><path d="M346,-125.375C386,-125.375,386,-88.5,426,-88.5" stroke="rgb(214, 39, 40)" stroke-width="1.5"></path><path d="M346,-125.375C386,-125.375,386,-63.5,426,-63.5" stroke="rgb(148, 103, 189)" stroke-width="1.5"></path><path d="M346,-125.375C386,-125.375,386,-38.5,426,-38.5" stroke="rgb(140, 86, 75)" stroke-width="1.5"></path><path d="M346,4C386,4,386,-8.5,426,-8.5" stroke="rgb(127, 127, 127)" stroke-width="1.5"></path><path d="M346,4C386,4,386,16.5,426,16.5" stroke="rgb(188, 189, 34)" stroke-width="1.5"></path><path d="M358,151.5C398,151.5,398,46.5,438,46.5" stroke="rgb(31, 119, 180)" stroke-width="1.5"></path><path d="M358,151.5C398,151.5,398,76.5,438,76.5" stroke="rgb(255, 127, 14)" stroke-width="1.5"></path><path d="M358,151.5C398,151.5,398,106.5,438,106.5" stroke="rgb(214, 39, 40)" stroke-width="1.5"></path><path d="M358,151.5C398,151.5,398,166.5,438,166.5" stroke="rgb(140, 86, 75)" stroke-width="1.5"></path><path d="M358,151.5C398,151.5,398,226.5,438,226.5" stroke="rgb(255, 127, 14)" stroke-width="1.5"></path><path d="M358,151.5C398,151.5,398,256.5,438,256.5" stroke="rgb(214, 39, 40)" stroke-width="1.5"></path><path d="M367,316.5C407,316.5,407,286.5,447,286.5" stroke="rgb(227, 119, 194)" stroke-width="1.5"></path><path d="M367,316.5C407,316.5,407,316.5,447,316.5" stroke="rgb(127, 127, 127)" stroke-width="1.5"></path><path d="M367,316.5C407,316.5,407,346.5,447,346.5" stroke="rgb(23, 190, 207)" stroke-width="1.5"></path><path d="M495,-212.25C535,-212.25,535,-243.5,575,-243.5" stroke="rgb(127, 127, 127)" stroke-width="1.5"></path><path d="M495,-212.25C535,-212.25,535,-181,575,-181" stroke="rgb(188, 189, 34)" stroke-width="1.5"></path><path d="M548,-118.5C588,-118.5,588,-118.5,628,-118.5" stroke="rgb(44, 160, 44)" stroke-width="1.5"></path><path d="M567,76.5C607,76.5,607,76.5,647,76.5" stroke="rgb(44, 160, 44)" stroke-width="1.5"></path><path d="M568,106.5C608,106.5,608,106.5,648,106.5" stroke="rgb(148, 103, 189)" stroke-width="1.5"></path><path d="M572,166.5C612,166.5,612,136.5,652,136.5" stroke="rgb(227, 119, 194)" stroke-width="1.5"></path><path d="M572,166.5C612,166.5,612,166.5,652,166.5" stroke="rgb(127, 127, 127)" stroke-width="1.5"></path><path d="M572,166.5C612,166.5,612,196.5,652,196.5" stroke="rgb(23, 190, 207)" stroke-width="1.5"></path><path d="M614,226.5C654,226.5,654,226.5,694,226.5" stroke="rgb(44, 160, 44)" stroke-width="1.5"></path><path d="M580,256.5C620,256.5,620,256.5,660,256.5" stroke="rgb(148, 103, 189)" stroke-width="1.5"></path><path d="M542,316.5C582,316.5,582,316.5,622,316.5" stroke="rgb(188, 189, 34)" stroke-width="1.5"></path><path d="M642,346.5C682,346.5,682,346.5,722,346.5" stroke="rgb(31, 119, 180)" stroke-width="1.5"></path><path d="M623,-181C663,-181,663,-213.5,703,-213.5" stroke="rgb(23, 190, 207)" stroke-width="1.5"></path><path d="M623,-181C663,-181,663,-148.5,703,-148.5" stroke="rgb(31, 119, 180)" stroke-width="1.5"></path><path d="M745,166.5C785,166.5,785,166.5,825,166.5" stroke="rgb(188, 189, 34)" stroke-width="1.5"></path><path d="M736,196.5C776,196.5,776,196.5,816,196.5" stroke="rgb(31, 119, 180)" stroke-width="1.5"></path><g transform="translate(816, 176.5)"><rect x="-1" y="19.25" width="463" height="1.5" fill="rgb(31, 119, 180)"></rect><foreignObject class="mm-ojkq93-1-fo" x="8" y="0" height="20" width="445" style="opacity: 1;"><div xmlns="http://www.w3.org/1999/xhtml">处理后端集合,可以是所有的处理后端,包括RoutingBackend自身</div></foreignObject></g><g transform="translate(825, 146.5)"><rect x="-1" y="19.25" width="282" height="1.5" fill="rgb(188, 189, 34)"></rect><foreignObject class="mm-ojkq93-1-fo" x="8" y="0" height="20" width="264" style="opacity: 1;"><div xmlns="http://www.w3.org/1999/xhtml">处理器集合.管道处理,类似责任链模式</div></foreignObject></g><g transform="translate(703, -208.5)"><rect x="-1" y="59.25" width="382" height="1.5" fill="rgb(31, 119, 180)"></rect><foreignObject class="mm-ojkq93-1-fo" x="8" y="0" height="60" width="364" style="opacity: 1;"><div xmlns="http://www.w3.org/1999/xhtml">name为事件名,像'edx.course.enrollment.activated',<br>可以用'namespace.object.action'结构;<br>data为事件,类型为可以序列化的字典</div></foreignObject></g><g transform="translate(703, -233.5)"><rect x="-1" y="19.25" width="311" height="1.5" fill="rgb(23, 190, 207)"></rect><foreignObject class="mm-ojkq93-1-fo" x="8" y="0" height="20" width="293" style="opacity: 1;"><div xmlns="http://www.w3.org/1999/xhtml">提交事件.emit(name=None, data=None)</div></foreignObject></g><g transform="translate(722, 326.5)"><rect x="-1" y="19.25" width="114" height="1.5" fill="rgb(31, 119, 180)"></rect><foreignObject class="mm-ojkq93-1-fo" x="8" y="0" height="20" width="96" style="opacity: 1;"><div xmlns="http://www.w3.org/1999/xhtml">白名单处理器</div></foreignObject></g><g transform="translate(622, 296.5)"><rect x="-1" y="19.25" width="98" height="1.5" fill="rgb(188, 189, 34)"></rect><foreignObject class="mm-ojkq93-1-fo" x="8" y="0" height="20" width="80" style="opacity: 1;"><div xmlns="http://www.w3.org/1999/xhtml">正则处理器</div></foreignObject></g><g transform="translate(660, 236.5)"><rect x="-1" y="19.25" width="260" height="1.5" fill="rgb(148, 103, 189)"></rect><foreignObject class="mm-ojkq93-1-fo" x="8" y="0" height="20" width="242" style="opacity: 1;"><div xmlns="http://www.w3.org/1999/xhtml">将事件发送到segment.com的后端</div></foreignObject></g><g transform="translate(694, 206.5)"><rect x="-1" y="19.25" width="406" height="1.5" fill="rgb(44, 160, 44)"></rect><foreignObject class="mm-ojkq93-1-fo" x="8" y="0" height="20" width="388" style="opacity: 1;"><div xmlns="http://www.w3.org/1999/xhtml">异步路由后端继承RoutingBackend,使用了celery来处理</div></foreignObject></g><g transform="translate(652, 176.5)"><rect x="-1" y="19.25" width="86" height="1.5" fill="rgb(23, 190, 207)"></rect><circle stroke-width="1.5" cx="84" cy="20" r="6" stroke="rgb(23, 190, 207)" fill="rgb(255, 255, 255)"></circle><foreignObject class="mm-ojkq93-1-fo" x="8" y="0" height="20" width="68" style="opacity: 1;"><div xmlns="http://www.w3.org/1999/xhtml">backends</div></foreignObject></g><g transform="translate(652, 146.5)"><rect x="-1" y="19.25" width="95" height="1.5" fill="rgb(127, 127, 127)"></rect><circle stroke-width="1.5" cx="93" cy="20" r="6" stroke="rgb(127, 127, 127)" fill="rgb(255, 255, 255)"></circle><foreignObject class="mm-ojkq93-1-fo" x="8" y="0" height="20" width="77" style="opacity: 1;"><div xmlns="http://www.w3.org/1999/xhtml">Processors</div></foreignObject></g><g transform="translate(652, 116.5)"><rect x="-1" y="19.25" width="194" height="1.5" fill="rgb(227, 119, 194)"></rect><foreignObject class="mm-ojkq93-1-fo" x="8" y="0" height="20" width="176" style="opacity: 1;"><div xmlns="http://www.w3.org/1999/xhtml">将事件路由到适当的后端</div></foreignObject></g><g transform="translate(648, 86.5)"><rect x="-1" y="19.25" width="577" height="1.5" fill="rgb(148, 103, 189)"></rect><foreignObject class="mm-ojkq93-1-fo" x="8" y="0" height="20" width="559" style="opacity: 1;"><div xmlns="http://www.w3.org/1999/xhtml">使用mongodb数据库的后端,事件插入数据库,默认是eventtracking库的events表</div></foreignObject></g><g transform="translate(647, 56.5)"><rect x="-1" y="19.25" width="359" height="1.5" fill="rgb(44, 160, 44)"></rect><foreignObject class="mm-ojkq93-1-fo" x="8" y="0" height="20" width="341" style="opacity: 1;"><div xmlns="http://www.w3.org/1999/xhtml">使用python的logger的后端,事件使用logger处理</div></foreignObject></g><g transform="translate(628, -138.5)"><rect x="-1" y="19.25" width="318" height="1.5" fill="rgb(44, 160, 44)"></rect><foreignObject class="mm-ojkq93-1-fo" x="8" y="0" height="20" width="300" style="opacity: 1;"><div xmlns="http://www.w3.org/1999/xhtml">从django配置初始化的追踪器,继承Tracker</div></foreignObject></g><g transform="translate(575, -201)"><rect x="-1" y="19.25" width="50" height="1.5" fill="rgb(188, 189, 34)"></rect><circle stroke-width="1.5" cx="48" cy="20" r="6" stroke="rgb(188, 189, 34)" fill="rgb(255, 255, 255)"></circle><foreignObject class="mm-ojkq93-1-fo" x="8" y="0" height="20" width="32" style="opacity: 1;"><div xmlns="http://www.w3.org/1999/xhtml">emit</div></foreignObject></g><g transform="translate(575, -263.5)"><rect x="-1" y="19.25" width="66" height="1.5" fill="rgb(127, 127, 127)"></rect><foreignObject class="mm-ojkq93-1-fo" x="8" y="0" height="20" width="48" style="opacity: 1;"><div xmlns="http://www.w3.org/1999/xhtml">追踪器</div></foreignObject></g><g transform="translate(447, 326.5)"><rect x="-1" y="19.25" width="197" height="1.5" fill="rgb(23, 190, 207)"></rect><circle stroke-width="1.5" cx="195" cy="20" r="6" stroke="rgb(23, 190, 207)" fill="rgb(255, 255, 255)"></circle><foreignObject class="mm-ojkq93-1-fo" x="8" y="0" height="20" width="179" style="opacity: 1;"><div xmlns="http://www.w3.org/1999/xhtml">NameWhitelistProcessor:</div></foreignObject></g><g transform="translate(447, 296.5)"><rect x="-1" y="19.25" width="97" height="1.5" fill="rgb(127, 127, 127)"></rect><circle stroke-width="1.5" cx="95" cy="20" r="6" stroke="rgb(127, 127, 127)" fill="rgb(255, 255, 255)"></circle><foreignObject class="mm-ojkq93-1-fo" x="8" y="0" height="20" width="79" style="opacity: 1;"><div xmlns="http://www.w3.org/1999/xhtml">RegexFilter</div></foreignObject></g><g transform="translate(447, 266.5)"><rect x="-1" y="19.25" width="166" height="1.5" fill="rgb(227, 119, 194)"></rect><foreignObject class="mm-ojkq93-1-fo" x="8" y="0" height="20" width="148" style="opacity: 1;"><div xmlns="http://www.w3.org/1999/xhtml">处理器,用来过滤事件</div></foreignObject></g><g transform="translate(438, 236.5)"><rect x="-1" y="19.25" width="144" height="1.5" fill="rgb(214, 39, 40)"></rect><circle stroke-width="1.5" cx="142" cy="20" r="6" stroke="rgb(214, 39, 40)" fill="rgb(255, 255, 255)"></circle><foreignObject class="mm-ojkq93-1-fo" x="8" y="0" height="20" width="126" style="opacity: 1;"><div xmlns="http://www.w3.org/1999/xhtml">SegmentBackend</div></foreignObject></g><g transform="translate(438, 206.5)"><rect x="-1" y="19.25" width="178" height="1.5" fill="rgb(255, 127, 14)"></rect><circle stroke-width="1.5" cx="176" cy="20" r="6" stroke="rgb(255, 127, 14)" fill="rgb(255, 255, 255)"></circle><foreignObject class="mm-ojkq93-1-fo" x="8" y="0" height="20" width="160" style="opacity: 1;"><div xmlns="http://www.w3.org/1999/xhtml">AsyncRoutingBackend</div></foreignObject></g><g transform="translate(438, 146.5)"><rect x="-1" y="19.25" width="136" height="1.5" fill="rgb(140, 86, 75)"></rect><circle stroke-width="1.5" cx="134" cy="20" r="6" stroke="rgb(140, 86, 75)" fill="rgb(255, 255, 255)"></circle><foreignObject class="mm-ojkq93-1-fo" x="8" y="0" height="20" width="118" style="opacity: 1;"><div xmlns="http://www.w3.org/1999/xhtml">RoutingBackend</div></foreignObject></g><g transform="translate(438, 86.5)"><rect x="-1" y="19.25" width="132" height="1.5" fill="rgb(214, 39, 40)"></rect><circle stroke-width="1.5" cx="130" cy="20" r="6" stroke="rgb(214, 39, 40)" fill="rgb(255, 255, 255)"></circle><foreignObject class="mm-ojkq93-1-fo" x="8" y="0" height="20" width="114" style="opacity: 1;"><div xmlns="http://www.w3.org/1999/xhtml">MongoBackend</div></foreignObject></g><g transform="translate(438, 56.5)"><rect x="-1" y="19.25" width="131" height="1.5" fill="rgb(255, 127, 14)"></rect><circle stroke-width="1.5" cx="129" cy="20" r="6" stroke="rgb(255, 127, 14)" fill="rgb(255, 255, 255)"></circle><foreignObject class="mm-ojkq93-1-fo" x="8" y="0" height="20" width="113" style="opacity: 1;"><div xmlns="http://www.w3.org/1999/xhtml">LoggerBackend</div></foreignObject></g><g transform="translate(438, 26.5)"><rect x="-1" y="19.25" width="494" height="1.5" fill="rgb(31, 119, 180)"></rect><foreignObject class="mm-ojkq93-1-fo" x="8" y="0" height="20" width="476" style="opacity: 1;"><div xmlns="http://www.w3.org/1999/xhtml">事件追踪后端,必须提供一个send(event)方法,用来处理接收到的事件</div></foreignObject></g><g transform="translate(426, -3.5)"><rect x="-1" y="19.25" width="217" height="1.5" fill="rgb(188, 189, 34)"></rect><foreignObject class="mm-ojkq93-1-fo" x="8" y="0" height="20" width="199" style="opacity: 1;"><div xmlns="http://www.w3.org/1999/xhtml">ThreadLocalContextLocator</div></foreignObject></g><g transform="translate(426, -28.5)"><rect x="-1" y="19.25" width="180" height="1.5" fill="rgb(127, 127, 127)"></rect><foreignObject class="mm-ojkq93-1-fo" x="8" y="0" height="20" width="162" style="opacity: 1;"><div xmlns="http://www.w3.org/1999/xhtml">DefaultContextLocator</div></foreignObject></g><g transform="translate(426, -58.5)"><rect x="-1" y="19.25" width="50" height="1.5" fill="rgb(140, 86, 75)"></rect><foreignObject class="mm-ojkq93-1-fo" x="8" y="0" height="20" width="32" style="opacity: 1;"><div xmlns="http://www.w3.org/1999/xhtml">emit</div></foreignObject></g><g transform="translate(426, -83.5)"><rect x="-1" y="19.25" width="98" height="1.5" fill="rgb(148, 103, 189)"></rect><foreignObject class="mm-ojkq93-1-fo" x="8" y="0" height="20" width="80" style="opacity: 1;"><div xmlns="http://www.w3.org/1999/xhtml">get_tracker</div></foreignObject></g><g transform="translate(426, -108.5)"><rect x="-1" y="19.25" width="129" height="1.5" fill="rgb(214, 39, 40)"></rect><foreignObject class="mm-ojkq93-1-fo" x="8" y="0" height="20" width="111" style="opacity: 1;"><div xmlns="http://www.w3.org/1999/xhtml">register_tracker</div></foreignObject></g><g transform="translate(426, -138.5)"><rect x="-1" y="19.25" width="124" height="1.5" fill="rgb(255, 127, 14)"></rect><circle stroke-width="1.5" cx="122" cy="20" r="6" stroke="rgb(255, 127, 14)" fill="rgb(255, 255, 255)"></circle><foreignObject class="mm-ojkq93-1-fo" x="8" y="0" height="20" width="106" style="opacity: 1;"><div xmlns="http://www.w3.org/1999/xhtml">DjangoTracker</div></foreignObject></g><g transform="translate(426, -232.25)"><rect x="-1" y="19.25" width="71" height="1.5" fill="rgb(227, 119, 194)"></rect><circle stroke-width="1.5" cx="69" cy="20" r="6" stroke="rgb(227, 119, 194)" fill="rgb(255, 255, 255)"></circle><foreignObject class="mm-ojkq93-1-fo" x="8" y="0" height="20" width="53" style="opacity: 1;"><div xmlns="http://www.w3.org/1999/xhtml">Tracker</div></foreignObject></g><g transform="translate(360, -293.5)"><rect x="-1" y="19.25" width="601" height="1.5" fill="rgb(148, 103, 189)"></rect><foreignObject class="mm-ojkq93-1-fo" x="8" y="0" height="20" width="583" style="opacity: 1;"><div xmlns="http://www.w3.org/1999/xhtml">https://edx.readthedocs.io/projects/edx-developer-guide/en/latest/analytics.html</div></foreignObject></g><g transform="translate(360, -318.5)"><rect x="-1" y="19.25" width="460" height="1.5" fill="rgb(214, 39, 40)"></rect><foreignObject class="mm-ojkq93-1-fo" x="8" y="0" height="20" width="442" style="opacity: 1;"><div xmlns="http://www.w3.org/1999/xhtml">https://event-tracking.readthedocs.io/en/latest/overview.html</div></foreignObject></g><g transform="translate(360, -343.5)"><rect x="-1" y="19.25" width="295" height="1.5" fill="rgb(44, 160, 44)"></rect><foreignObject class="mm-ojkq93-1-fo" x="8" y="0" height="20" width="277" style="opacity: 1;"><div xmlns="http://www.w3.org/1999/xhtml">https://github.com/edx/event-tracking</div></foreignObject></g><g transform="translate(280, 296.5)"><rect x="-1" y="19" width="89" height="2" fill="rgb(140, 86, 75)"></rect><circle stroke-width="1.5" cx="87" cy="20" r="6" stroke="rgb(140, 86, 75)" fill="rgb(255, 255, 255)"></circle><foreignObject class="mm-ojkq93-1-fo" x="8" y="0" height="20" width="71" style="opacity: 1;"><div xmlns="http://www.w3.org/1999/xhtml">processor</div></foreignObject></g><g transform="translate(280, 131.5)"><rect x="-1" y="19" width="80" height="2" fill="rgb(23, 190, 207)"></rect><circle stroke-width="1.5" cx="78" cy="20" r="6" stroke="rgb(23, 190, 207)" fill="rgb(255, 255, 255)"></circle><foreignObject class="mm-ojkq93-1-fo" x="8" y="0" height="20" width="62" style="opacity: 1;"><div xmlns="http://www.w3.org/1999/xhtml">backend</div></foreignObject></g><g transform="translate(280, -16)"><rect x="-1" y="19" width="68" height="2" fill="rgb(227, 119, 194)"></rect><circle stroke-width="1.5" cx="66" cy="20" r="6" stroke="rgb(227, 119, 194)" fill="rgb(255, 255, 255)"></circle><foreignObject class="mm-ojkq93-1-fo" x="8" y="0" height="20" width="50" style="opacity: 1;"><div xmlns="http://www.w3.org/1999/xhtml">locator</div></foreignObject></g><g transform="translate(280, -145.375)"><rect x="-1" y="19" width="68" height="2" fill="rgb(140, 86, 75)"></rect><circle stroke-width="1.5" cx="66" cy="20" r="6" stroke="rgb(140, 86, 75)" fill="rgb(255, 255, 255)"></circle><foreignObject class="mm-ojkq93-1-fo" x="8" y="0" height="20" width="50" style="opacity: 1;"><div xmlns="http://www.w3.org/1999/xhtml">tracker</div></foreignObject></g><g transform="translate(280, -316.5)"><rect x="-1" y="15" width="2" height="2" fill="rgb(255, 127, 14)"></rect><circle stroke-width="1.5" cx="0" cy="16" r="6" stroke="rgb(255, 127, 14)" fill="rgb(255, 255, 255)"></circle><foreignObject class="mm-ojkq93-1-fo" x="8" y="0" height="16" width="0" style="opacity: 1;"><div xmlns="http://www.w3.org/1999/xhtml"></div></foreignObject></g><g transform="translate(80,-10)"><rect x="-1" y="18" width="122" height="4" fill="rgb(31, 119, 180)"></rect><circle stroke-width="1.5" cx="120" cy="20" r="6" stroke="rgb(31, 119, 180)" fill="rgb(255, 255, 255)"></circle><foreignObject class="mm-ojkq93-1-fo" x="8" y="0" height="20" width="104" style="opacity: 1;"><div xmlns="http://www.w3.org/1999/xhtml">event-tracking</div></foreignObject></g></g></svg>